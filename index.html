<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Acrati | Puffs y Sofás a Medida</title>
  <meta name="description" content="Catálogo con precios + pedidos personalizados por referencia. Personaliza telas y guarda pedidos directamente en Google Sheets." />
  <meta name="theme-color" content="#f7f3ee" />

  <!-- Tipografías -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f7f3ee;
      --surface:#ffffff;
      --text:#141414;
      --muted:#6f6a62;
      --border:#e6e0d7;

      --accent:#2f6b4f;   /* verde oliva elegante */
      --accent2:#8a6a3f;  /* dorado sobrio */

      --shadow: 0 18px 45px rgba(17,24,39,.10);
      --shadow2: 0 10px 25px rgba(17,24,39,.08);
      --shadow3: 0 22px 55px rgba(17,24,39,.12);

      --radius:22px;
      --max:1140px;

      --font-body: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      --font-display: "Playfair Display", ui-serif, Georgia, "Times New Roman", serif;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:var(--font-body);
      color:var(--text);
      line-height:1.55;
      background:
        radial-gradient(1000px 650px at 20% 0%, rgba(47,107,79,.10), transparent 55%),
        radial-gradient(900px 600px at 80% 10%, rgba(138,106,63,.10), transparent 60%),
        var(--bg);
    }
    a{color:inherit; text-decoration:none}
    .container{max-width:var(--max); margin:0 auto; padding:0 18px}

    /* Header */
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(247,243,238,.82);
      border-bottom:1px solid rgba(230,224,215,.92);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 0;
      gap:12px;
    }
    .brand{display:flex; align-items:center; gap:12px}
    .logo{
      width:40px; height:40px; border-radius:14px;
      background: radial-gradient(circle at 30% 30%, rgba(47,107,79,.95), rgba(47,107,79,.70));
      box-shadow:0 10px 25px rgba(17,24,39,.10);
      border:1px solid rgba(47,107,79,.20);
      flex:0 0 auto;
    }
    .wordmark{
      font-family: var(--font-display);
      font-size: 26px;
      letter-spacing: .2px;
      line-height:1;
    }
    nav ul{list-style:none; display:flex; gap:14px; margin:0; padding:0; align-items:center}
    nav a{color:var(--muted); font-weight:900; font-size:14px}
    nav a:hover{color:var(--text)}
    .menu-btn{display:none}
    @media (max-width: 920px){
      nav ul{display:none}
      .menu-btn{display:inline-flex}
      .wordmark{font-size:24px}
    }

    /* UI */
    .pill{
      display:inline-flex; gap:10px; align-items:center;
      padding:8px 12px;
      border:1px solid var(--border);
      border-radius:999px;
      background: rgba(255,255,255,.84);
      color:var(--muted);
      font-size:13px;
      font-weight:800;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:12px 16px;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.90);
      cursor:pointer;
      transition:.18s ease;
      font-weight:900;
      user-select:none;
      color:var(--text);
      box-shadow: 0 8px 18px rgba(17,24,39,.06);
      white-space:nowrap;
    }
    .btn:hover{transform:translateY(-1px); box-shadow: var(--shadow2)}
    .btn.primary{
      background: linear-gradient(180deg, rgba(47,107,79,.95), rgba(47,107,79,.82));
      border-color: rgba(47,107,79,.28);
      color:#06120b;
    }
    .btn.secondary{
      background: linear-gradient(180deg, rgba(138,106,63,.92), rgba(138,106,63,.78));
      border-color: rgba(138,106,63,.26);
      color:#1a1206;
    }
    .btn.ghost{background:transparent; box-shadow:none}
    .btn.small{padding:10px 12px; border-radius:12px; font-size:13px}
    .ico{display:inline-flex; align-items:center; justify-content:center}

    /* Hero */
    .hero{padding:48px 0 22px}
    .hero-grid{
      display:grid;
      grid-template-columns: 1.10fr .90fr;
      gap:22px;
      align-items:stretch
    }
    @media (max-width: 980px){ .hero-grid{grid-template-columns:1fr} }

    .h1{
      font-family: var(--font-body);
      font-size: clamp(30px, 3.2vw, 44px);
      line-height:1.08;
      margin:12px 0 10px;
      letter-spacing:-0.6px;
      font-weight: 900;
    }
    .lead{color:var(--muted); font-size:16px; max-width:62ch}
    .cta-row{display:flex; flex-wrap:wrap; gap:10px; margin-top:16px}
    .note{color:var(--muted); font-size:13px; margin-top:10px}

    .hero-card{
      border:1px solid var(--border);
      background: rgba(255,255,255,.92);
      border-radius: var(--radius);
      padding:18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .hero-media{
      border-radius: var(--radius);
      overflow:hidden;
      border:1px solid rgba(230,224,215,.9);
      box-shadow: var(--shadow3);
      background: rgba(255,255,255,.78);
    }
    .hero-img{
      width:100%;
      height: 330px;
      display:block;
      object-fit:cover;
      object-position:center;
      filter: contrast(1.02) saturate(1.02);
    }

    /* Benefits + categorías */
    .benefits{
      margin-top:14px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }
    .benefit{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.92);
      border-radius: 999px;
      font-weight:900;
      color: var(--text);
      box-shadow: 0 10px 22px rgba(17,24,39,.05);
      font-size:13px;
    }
    .benefit span{font-weight:800; color:var(--muted)}

    .mini{font-size:12.5px; color:var(--muted)}
    .tags{display:flex; flex-wrap:wrap; gap:8px; margin-top:12px}
    .tag{
      font-size:12px; color:var(--muted);
      border:1px solid var(--border);
      background: rgba(255,255,255,.84);
      padding:6px 10px;
      border-radius:999px;
      font-weight:800;
    }

    /* Sections */
    section{padding:36px 0}
    .section-title{display:flex; align-items:flex-end; justify-content:space-between; gap:14px; margin-bottom:14px}
    .section-title h2{margin:0; font-family:var(--font-body); font-size:22px; letter-spacing:-.2px; font-weight: 900}
    .section-title p{margin:0; color:var(--muted); font-size:14px}

    .grid-2{display:grid; grid-template-columns:repeat(2,1fr); gap:14px}
    .grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media (max-width: 900px){
      .grid-2,.grid-3{grid-template-columns:1fr}
    }

    .card{
      border:1px solid var(--border);
      background: rgba(255,255,255,.94);
      border-radius: var(--radius);
      padding:16px;
      box-shadow: 0 12px 28px rgba(17,24,39,.06);
    }
    .card h3{margin:0 0 6px; font-size:16px}
    .card p{margin:0; color:var(--muted); font-size:14px}

    /* Catalog / tienda */
    .filters{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin: 10px 0 14px;
    }
    .filter{
      padding:10px 12px;
      border-radius: 14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.86);
      font-weight:900;
      cursor:pointer;
      transition:.18s ease;
      font-size:13px;
      user-select:none;
    }
    .filter.active{
      border-color: rgba(47,107,79,.28);
      background: rgba(47,107,79,.10);
      color: var(--accent);
    }

    .catalog{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:14px
    }
    @media (max-width: 980px){ .catalog{grid-template-columns:1fr} }

    .product{
      border:1px solid var(--border);
      background: rgba(255,255,255,.96);
      border-radius: var(--radius);
      box-shadow: 0 12px 28px rgba(17,24,39,.06);
      overflow:hidden;
      transition: transform .18s ease, box-shadow .18s ease;
      display:flex;
      flex-direction:column;
      cursor:pointer;
    }
    .product:hover{transform: translateY(-2px); box-shadow: 0 18px 45px rgba(17,24,39,.10)}
    .product-media{
      width:100%;
      aspect-ratio: 4 / 3;
      background: rgba(255,255,255,.75);
      border-bottom:1px solid var(--border);
      overflow:hidden;
    }
    .product-img{
      width:100%;
      height:100%;
      display:block;
      object-fit:cover;
      object-position:center;
      transition: transform .25s ease;
    }
    .product:hover .product-img{transform: scale(1.03)}
    .product .body{padding:14px 16px; display:flex; flex-direction:column; gap:8px; flex:1}
    .product .body h3{font-size:16px; margin:0; font-weight: 900}
    .product .body p{margin:0; color:var(--muted); font-size:14px}

    .badge{
      display:inline-flex;
      padding:6px 10px;
      border-radius:999px;
      font-weight:900;
      font-size:12px;
      border:1px solid rgba(47,107,79,.25);
      background: rgba(47,107,79,.10);
      color: var(--accent);
      align-self:flex-start;
    }
    .badge.alt{
      border-color: rgba(138,106,63,.28);
      background: rgba(138,106,63,.10);
      color: #6a4f25;
    }

    .row-between{display:flex; justify-content:space-between; align-items:center; gap:10px}
    .pricebox{
      margin-top:auto;
      padding-top:10px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      border-top:1px solid rgba(230,224,215,.9);
    }
    .price{
      font-weight: 900;
      font-size:16px;
      letter-spacing:-.2px;
    }
    .price small{
      font-weight:800;
      font-size:12px;
      color:var(--muted);
      margin-right:6px;
    }
    .cta{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .cta .btn{box-shadow:none}
    .cta .btn:hover{box-shadow:var(--shadow2)}

    /* Modales */
    .modal{
      position:fixed; inset:0;
      background:rgba(20,20,20,.45);
      display:none;
      z-index:120;
      padding:18px;
    }
    .modal.open{display:block}
    .modal .panel{
      max-width: 860px;
      margin: 0 auto;
      border:1px solid var(--border);
      background: rgba(255,255,255,.98);
      border-radius: 22px;
      padding: 16px;
      box-shadow: var(--shadow3);
    }
    .modal-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:10px;
      margin-bottom: 10px;
    }
    .modal-title{
      font-size:16px;
      font-weight: 900;
      margin:0;
    }
    .modal-sub{margin:6px 0 0; color:var(--muted); font-size:13px}

    label{display:block; font-size:13px; color:var(--muted); margin:10px 0 6px; font-weight:800}
    input, textarea, select{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.96);
      color:var(--text);
      outline:none;
      font-family: var(--font-body);
    }
    textarea{min-height:110px; resize:vertical}
    .form-row{display:grid; grid-template-columns:1fr 1fr; gap:10px}
    @media (max-width: 680px){ .form-row{grid-template-columns:1fr} }

    .notice{
      padding:12px 14px;
      border-radius:16px;
      border:1px solid rgba(47,107,79,.20);
      background: rgba(47,107,79,.08);
      color: #154a33;
      font-weight:800;
      font-size:13px;
      margin-top: 10px;
    }

    /* Menú móvil */
    .menu-modal{
      position:fixed; inset:0;
      background:rgba(20,20,20,.40);
      display:none;
      z-index:110;
      padding:18px;
    }
    .menu-modal.open{display:block}
    .menu-modal .panel{
      max-width:520px; margin:0 auto;
      border:1px solid var(--border);
      background: rgba(255,255,255,.96);
      border-radius:18px;
      padding:14px;
      box-shadow: var(--shadow);
    }
    .mlink{
      display:block;
      padding:12px;
      border-radius:14px;
      border:1px solid var(--border);
      margin-top:10px;
      color:var(--muted);
      font-weight:900;
      background: rgba(255,255,255,.90);
    }
    .mlink:hover{color:var(--text)}

    /* WhatsApp flotante */
    .wa-float{
      position:fixed;
      right:16px;
      bottom:16px;
      z-index:90;
      border-radius:999px;
      padding:12px 14px;
      border:1px solid rgba(47,107,79,.30);
      background: linear-gradient(180deg, rgba(47,107,79,.95), rgba(47,107,79,.82));
      color:#06120b;
      font-weight:900;
      box-shadow: 0 16px 35px rgba(17,24,39,.16);
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .wa-float:hover{transform:translateY(-1px); box-shadow: 0 18px 40px rgba(17,24,39,.18)}

    /* =========================
       Configurador de telas
       ========================= */
    .config-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
    }
    @media (max-width: 860px){ .config-grid{grid-template-columns:1fr} }

    .kv{
      border:1px solid var(--border);
      background: rgba(255,255,255,.92);
      border-radius:16px;
      padding:12px;
    }
    .kv b{display:block; font-size:13px}
    .kv span{display:block; color:var(--muted); font-size:12.5px; margin-top:2px}

    .swatches{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
      margin-top:10px;
    }
    @media (max-width: 520px){ .swatches{grid-template-columns: repeat(3, 1fr)} }

    .swatch{
      border:1px solid var(--border);
      background: rgba(255,255,255,.94);
      border-radius:16px;
      padding:10px;
      cursor:pointer;
      transition:.16s ease;
      box-shadow: 0 10px 22px rgba(17,24,39,.05);
      text-align:left;
      user-select:none;
    }
    .swatch:hover{ transform: translateY(-1px); box-shadow: var(--shadow2) }
    .swatch.active{
      border-color: rgba(47,107,79,.35);
      outline: 2px solid rgba(47,107,79,.18);
    }

    .swatch-top{
      display:flex; align-items:center; gap:10px;
    }
    .swatch-dot{
      width:22px; height:22px; border-radius:999px;
      border:1px solid rgba(0,0,0,.08);
      background: var(--c, #ddd);
      flex:0 0 auto;
    }
    .swatch-img{
      width:100%;
      height:68px;
      border-radius:12px;
      border:1px solid rgba(230,224,215,.85);
      background: #faf7f2;
      overflow:hidden;
      margin-top:8px;
    }
    .swatch-img img{width:100%; height:100%; object-fit:cover; display:block}
    .swatch-name{font-weight:900; font-size:13px}
    .swatch-meta{color:var(--muted); font-size:12px; margin-top:2px}

    .config-actions{
      display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;
    }
    .small-note{
      font-size:12.5px;
      color:var(--muted);
      margin-top:8px;
    }

    footer{
      border-top:1px solid rgba(230,224,215,.95);
      padding:18px 0;
      color:var(--muted);
      font-size:13px;
    }
    .footer-row{display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap}
    .links{display:flex; gap:12px; flex-wrap:wrap}
    .links a{color:var(--muted); font-weight:900}
    .links a:hover{color:var(--text)}
  </style>
</head>

<body>
  <header>
    <div class="container nav">
      <a class="brand" href="#top" aria-label="Acrati">
        <span class="logo" aria-hidden="true"></span>
        <span class="wordmark">Acrati</span>
      </a>

      <nav aria-label="Navegación principal">
        <ul>
          <li><a href="#catalogo">Catálogo</a></li>
          <li><a href="#amedida">A medida</a></li>
          <li><a href="#envios">Envíos</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
      </nav>

      <div style="display:flex; gap:10px; align-items:center">
        <a class="btn primary" id="btn-wa-top" href="#" rel="noopener">WhatsApp</a>
        <button class="btn menu-btn" id="btn-menu" aria-label="Abrir menú">Menú</button>
      </div>
    </div>
  </header>

  <!-- Menú móvil -->
  <div class="menu-modal" id="menuModal">
    <div class="panel">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:10px">
        <b>Menú</b>
        <button class="btn ghost" id="btn-menu-close">Cerrar</button>
      </div>
      <a class="mlink" href="#catalogo">Catálogo</a>
      <a class="mlink" href="#amedida">A medida</a>
      <a class="mlink" href="#envios">Envíos</a>
      <a class="mlink" href="#contacto">Contacto</a>
    </div>
  </div>

  <!-- Modal de consulta general (opcional) -->
  <div class="modal" id="quoteModal" aria-hidden="true">
    <div class="panel">
      <div class="modal-header">
        <div>
          <p class="modal-title">Consulta / Pedido a medida</p>
          <p class="modal-sub">Úsalo cuando el pedido no sea catálogo. Este lead también se guarda en Google Sheets.</p>
        </div>
        <button class="btn ghost" id="btn-quote-close">Cerrar</button>
      </div>

      <form id="quoteForm">
        <div class="form-row">
          <div>
            <label>Nombre</label>
            <input id="q_nombre" placeholder="Nombre del cliente" required />
          </div>
          <div>
            <label>WhatsApp / Teléfono</label>
            <input id="q_tel" placeholder="Ej: 987654321" />
          </div>
        </div>

        <div class="form-row">
          <div>
            <label>Ciudad</label>
            <input id="q_ciudad" placeholder="Lima / Arequipa / etc." />
          </div>
          <div>
            <label>Producto / Servicio</label>
            <input id="q_producto" placeholder="Ej: Sofá, puff, retapizado..." required />
          </div>
        </div>

        <div class="form-row">
          <div>
            <label>Medidas (aprox.)</label>
            <input id="q_medidas" placeholder="Ej: 180x80x90 cm" />
          </div>
          <div>
            <label>Referencia (link)</label>
            <input id="q_referencia" placeholder="Pinterest/IG" />
          </div>
        </div>

        <label>Detalles</label>
        <textarea id="q_detalles" placeholder="Color/tela, firmeza, fecha, etc."></textarea>

        <div class="config-actions">
          <button class="btn primary" type="submit">Guardar en Sheets</button>
          <button class="btn secondary" type="button" id="btn-quote-wa">Enviar por WhatsApp</button>
        </div>

        <div class="notice">
          Recomendación: para catálogo usa “Comprar”. Para personalización usa el configurador (clic en el modelo).
        </div>
      </form>
    </div>
  </div>

  <!-- Modal configurador (telas + combo listo para pedido) -->
  <div class="modal" id="configModal" aria-hidden="true">
    <div class="panel">
      <div class="modal-header">
        <div>
          <p class="modal-title" id="cfgTitle">Personalizar</p>
          <p class="modal-sub" id="cfgSub">Selecciona tela y color. Guarda el combo en Google Sheets como pedido listo.</p>
        </div>
        <button class="btn ghost" id="btn-cfg-close">Cerrar</button>
      </div>

      <div class="notice">
        Flujo recomendado: cliente elige modelo → elige tela/color → se guarda pedido configurado → tú confirmas fabricación, tiempos y envío.
      </div>

      <div class="config-grid">
        <div>
          <div class="kv">
            <b>Producto</b>
            <span id="cfgProduct">—</span>
          </div>

          <div class="form-row" style="margin-top:10px">
            <div>
              <label>Nombre del cliente</label>
              <input id="cfgCustomer" placeholder="Ej: María" />
            </div>
            <div>
              <label>Teléfono / WhatsApp</label>
              <input id="cfgPhone" placeholder="Ej: 987654321" />
            </div>
          </div>

          <div class="form-row">
            <div>
              <label>Ciudad</label>
              <input id="cfgCity" placeholder="Ej: Lima" />
            </div>
            <div>
              <label>Cantidad</label>
              <input id="cfgQty" type="number" min="1" value="1" />
            </div>
          </div>

          <div class="form-row">
            <div>
              <label>Tipo de tela</label>
              <select id="cfgFabricType"></select>
            </div>
            <div>
              <label>Firmeza</label>
              <select id="cfgFirmness">
                <option value="Suave">Suave</option>
                <option value="Intermedia" selected>Intermedia</option>
                <option value="Firme">Firme</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div>
              <label>Medidas (opcional)</label>
              <input id="cfgMeasures" placeholder="Ej: 80x80x45 cm" />
            </div>
            <div>
              <label>Acabado (opcional)</label>
              <input id="cfgFinish" placeholder="Ej: patas negras, costura doble..." />
            </div>
          </div>

          <label>Notas / detalles</label>
          <textarea id="cfgNotes" placeholder="Ej: para cafetería, fácil limpieza, reforzado, etc."></textarea>

          <div class="config-actions">
            <button class="btn primary" type="button" id="btn-cfg-save">Guardar en Sheets</button>
            <button class="btn secondary" type="button" id="btn-cfg-wa">Enviar a WhatsApp</button>
            <button class="btn" type="button" id="btn-cfg-copy">Copiar</button>
          </div>

          <div class="small-note">
            Se registrará como <b>event = pedido_configurado</b>. El “combo” queda en la columna <b>detalles</b>.
          </div>
        </div>

        <div>
          <div class="kv">
            <b>Colores / muestras</b>
            <span>Haz clic en una muestra para seleccionarla.</span>
          </div>
          <div class="swatches" id="cfgSwatches"></div>
          <div class="small-note">
            Si quieres mini-fotos reales: sube imágenes a una carpeta <b>telas/</b> y asigna <b>img</b> en el catálogo de telas del script.
          </div>
        </div>
      </div>
    </div>
  </div>

  <a class="wa-float" id="btn-wa-float" href="#" rel="noopener">
    <span class="ico" aria-hidden="true">
      <svg viewBox="0 0 32 32" width="18" height="18" fill="currentColor">
        <path d="M19.11 17.46c-.27-.14-1.6-.79-1.85-.88-.25-.09-.43-.14-.61.14-.18.27-.7.88-.86 1.06-.16.18-.32.2-.59.07-.27-.14-1.16-.43-2.2-1.36-.81-.72-1.35-1.6-1.51-1.87-.16-.27-.02-.42.12-.56.13-.13.27-.32.41-.48.14-.16.18-.27.27-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.52-.44-.45-.61-.46l-.52-.01c-.18 0-.48.07-.73.34-.25.27-.95.93-.95 2.27s.98 2.64 1.12 2.82c.14.18 1.93 2.95 4.68 4.13.66.29 1.18.46 1.58.59.66.21 1.26.18 1.73.11.53-.08 1.6-.65 1.83-1.28.23-.63.23-1.17.16-1.28-.07-.11-.25-.18-.52-.32z"/>
        <path d="M16.02 3C9.39 3 4 8.37 4 14.98c0 2.34.69 4.61 2 6.56L5 29l7.64-1.99c1.9 1.04 4.05 1.58 6.25 1.58C25.61 28.59 31 23.22 31 16.61 31 10 25.61 3 16.02 3zm0 23.2c-2.02 0-3.99-.56-5.7-1.62l-.41-.25-4.53 1.18 1.2-4.41-.27-.45a9.61 9.61 0 0 1-1.48-5.17c0-5.31 4.35-9.64 9.69-9.64 5.34 0 9.69 4.33 9.69 9.64 0 5.31-4.35 9.72-9.69 9.72z"/>
      </svg>
    </span>
    WhatsApp
  </a>

  <main id="top" class="container">
    <section class="hero">
      <div class="hero-grid">
        <div>
          <span class="pill">Puffs • Sofás • Muebles a pedido • Lima & Provincias</span>
          <h1 class="h1">Página de ventas: catálogo con precios + personalización de telas.</h1>
          <p class="lead">
            Primer paso: haz clic en un modelo para abrir el configurador de telas y guardar el pedido listo en Google Sheets.
          </p>

          <div class="cta-row">
            <a class="btn primary" id="btn-wa-hero" href="#" rel="noopener">Cotizar por WhatsApp</a>
            <a class="btn secondary" href="#catalogo">Ver catálogo</a>
            <button class="btn" type="button" id="btn-open-quote">Consulta a pedido</button>
          </div>
          <div class="note">Catálogo: “Comprar” registra en Sheets. Personalización: clic en modelo → telas → guardar pedido.</div>

          <div class="benefits">
            <div class="benefit">Hecho a medida <span>medidas y tela</span></div>
            <div class="benefit">Envíos <span>Lima y provincias</span></div>
            <div class="benefit">Post-venta <span>retapizado</span></div>
            <div class="benefit">Packs <span>negocios</span></div>
          </div>
        </div>

        <div class="hero-card">
          <div class="hero-media">
            <!-- Mantén hero.png en la raíz del repo (junto a index.html) -->
            <img class="hero-img" src="hero.png" alt="Acrati - Foto principal"
              onerror="this.style.display='none'; this.parentElement.style.padding='18px'; this.parentElement.innerHTML='<b>Imagen no encontrada</b><div class=&quot;mini&quot; style=&quot;margin-top:6px&quot;>Verifica que <code>hero.png</code> esté junto a <code>index.html</code>.</div>';">
          </div>
          <div style="margin-top:12px">
            <b style="display:block; font-size:16px">Entrega y empaque</b>
            <div class="mini">Protección: film + burbuja + cartón. Incluye recibo/boleta impresa.</div>
            <div class="tags">
              <span class="tag">Shalom interprovincial</span>
              <span class="tag">Entrega Lima</span>
              <span class="tag">Seguimiento</span>
            </div>
          </div>
        </div>

      </div>
    </section>

    <section id="catalogo">
      <div class="section-title">
        <div>
          <h2>Catálogo</h2>
          <p>Clic en el modelo para personalizar telas. “Comprar” registra el click en Sheets.</p>
        </div>
        <button class="btn" type="button" id="btn-open-quote-top">Consulta a pedido</button>
      </div>

      <div class="filters" aria-label="Filtros">
        <button class="filter active" data-filter="all" type="button">Todos</button>
        <button class="filter" data-filter="puffs" type="button">Puffs</button>
        <button class="filter" data-filter="pedido" type="button">A pedido</button>
      </div>

      <div class="catalog" id="catalogGrid">

        <!-- ROSSETA (catálogo con precio) -->
        <!-- Mantén rosseta.png en la raíz del repo (junto a index.html) -->
        <article class="product" data-category="puffs" data-name="Rosseta" data-price="430" data-img="rosseta.png">
          <div class="product-media">
            <img class="product-img" src="rosseta.png" alt="Rosseta"
              onerror="this.style.display='none'; this.parentElement.style.padding='16px'; this.parentElement.innerHTML='<b>Imagen no encontrada</b><div class=&quot;mini&quot; style=&quot;margin-top:6px&quot;>Verifica <code>rosseta.png</code> en el repo (misma carpeta que index.html).</div>';">
          </div>
          <div class="body">
            <div class="row-between">
              <h3>Rosseta</h3>
              <span class="badge">Catálogo</span>
            </div>
            <p>Puff moderno, cómodo y elegante. Tela y tono personalizables.</p>

            <div class="pricebox">
              <div class="price"><small>Precio</small>S/ 430</div>
              <button class="btn small primary buy-btn" type="button">Comprar</button>
            </div>

            <div class="cta">
              <button class="btn small" type="button" data-open-config>Personalizar</button>
              <a class="btn small" href="#envios">Envíos</a>
            </div>
          </div>
        </article>

        <!-- A PEDIDO (sin precio visible, igual abre configurador) -->
        <article class="product" data-category="pedido" data-name="Modelo por referencia (Pinterest)" data-price="" data-img="">
          <div class="product-media" style="display:flex; align-items:center; justify-content:center; padding:16px">
            <div>
              <span class="badge">A pedido</span>
              <div style="margin-top:8px; font-weight:900">Modelo por referencia</div>
              <div class="mini" style="margin-top:6px">Envíanos foto o link (Pinterest/IG) y lo hacemos a medida.</div>
            </div>
          </div>
          <div class="body">
            <div class="row-between">
              <h3>Diseño personalizado</h3>
              <span class="badge alt">Cotización</span>
            </div>
            <p>Elige tela y color aquí; luego completas medidas y detalles para cotizar.</p>

            <div class="pricebox">
              <div class="price"><small>Precio</small>Consultar</div>
              <button class="btn small primary" type="button" data-open-config>Configurar</button>
            </div>

            <div class="cta">
              <button class="btn small" type="button" id="btn-open-quote-card">Formulario</button>
              <a class="btn small" href="#amedida">Proceso</a>
            </div>
          </div>
        </article>

      </div>

      <p class="mini" style="margin-top:10px">
        Importante: para que las imágenes se vean, los archivos deben llamarse exactamente igual (minúsculas) y estar en la misma carpeta que <b>index.html</b>.
      </p>
    </section>

    <section id="amedida">
      <div class="section-title">
        <div>
          <h2>Proceso a medida</h2>
          <p>Simple y claro para vender rápido.</p>
        </div>
      </div>

      <div class="grid-3">
        <div class="card"><h3>1) Referencia</h3><p>Foto/link + uso del mueble + ciudad.</p></div>
        <div class="card"><h3>2) Tela y acabado</h3><p>Seleccionas tela y color en el configurador.</p></div>
        <div class="card"><h3>3) Producción y envío</h3><p>Casco + espuma + tapizado. Lima o Shalom.</p></div>
      </div>
    </section>

    <section id="envios">
      <div class="section-title">
        <div>
          <h2>Envíos</h2>
          <p>Lima + provincias con embalaje seguro.</p>
        </div>
      </div>

      <div class="grid-2">
        <div class="card">
          <h3>Lima</h3>
          <p>Coordinación en ventana de horario.</p>
          <div class="tags"><span class="tag">Entrega segura</span><span class="tag">Coordinado</span></div>
        </div>
        <div class="card">
          <h3>Provincias</h3>
          <p>Envíos por Shalom con guía y seguimiento.</p>
          <div class="tags"><span class="tag">Shalom</span><span class="tag">Embalaje</span></div>
        </div>
      </div>
    </section>

    <section id="contacto">
      <div class="section-title">
        <div>
          <h2>Contacto</h2>
          <p>WhatsApp directo o formulario para pedidos a medida.</p>
        </div>
      </div>

      <div class="grid-2">
        <div class="card">
          <h3>WhatsApp</h3>
          <p>Para cerrar venta del catálogo o coordinar envío.</p>
          <div class="cta" style="margin-top:12px">
            <a class="btn primary" id="btn-wa-side" href="#" rel="noopener">Abrir WhatsApp</a>
            <button class="btn secondary" type="button" id="btn-open-quote-bottom">Formulario a pedido</button>
          </div>
        </div>
        <div class="card">
          <h3>Control de ventas</h3>
          <p>Los clicks de “Comprar” y pedidos configurados se registran en Google Sheets.</p>
          <div class="notice">Si aún no ves registros, revisa que <b>SHEETS_WEBAPP_URL</b> tenga el link correcto.</div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container footer-row">
      <div>© <span id="year"></span> Acrati.</div>
      <div class="links">
        <a href="#catalogo">Catálogo</a>
        <a href="#contacto">Contacto</a>
      </div>
    </div>
  </footer>

  <script>
    // =========================
    // CONFIGURA TUS DATOS AQUÍ
    // =========================
    const WHATSAPP_NUMBER = "51999999999"; // Ej: 51987654321 (51 + número, sin +)

    // Pega aquí tu Web App URL de Apps Script (Deploy/Implementar → Web app)
    // Ej: "https://script.google.com/macros/s/XXXX/exec"
    const SHEETS_WEBAPP_URL = "https://script.google.com/macros/s/AKfycbxykQZyRzldx10RUdT6v2TqgFNq8YhpHSVz24KMv_N40-uAKrBmCsMwSAqZ1PBMxPMp/exec";

    const waLink = (text) => `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(text)}`;

    // WhatsApp generales
    ["btn-wa-top","btn-wa-hero","btn-wa-side","btn-wa-float"].forEach(id => {
      const el = document.getElementById(id);
      if (el) el.href = waLink("Hola, quiero comprar/cotizar. ¿Me indicas disponibilidad, tiempo de entrega y costo de envío?");
    });

    // Año
    document.getElementById("year").textContent = new Date().getFullYear();

    // ====== Guardado local (respaldo) ======
    const saveLeadLocal = (row) => {
      const key = "acrati_rows";
      const existing = JSON.parse(localStorage.getItem(key) || "[]");
      existing.unshift(row);
      localStorage.setItem(key, JSON.stringify(existing));
    };

    // ====== Enviar a Sheets ======
    const postToSheets = async (row) => {
      if (!SHEETS_WEBAPP_URL) return { ok:false, skipped:true };
      try{
        await fetch(SHEETS_WEBAPP_URL, {
          method: "POST",
          mode: "no-cors",
          headers: { "Content-Type":"application/json" },
          body: JSON.stringify(row)
        });
        return { ok:true };
      }catch(e){
        return { ok:false, error:String(e) };
      }
    };

    // ====== Menú móvil ======
    const menuModal = document.getElementById("menuModal");
    const openBtn = document.getElementById("btn-menu");
    const closeBtn = document.getElementById("btn-menu-close");
    if (openBtn) openBtn.addEventListener("click", () => menuModal.classList.add("open"));
    if (closeBtn) closeBtn.addEventListener("click", () => menuModal.classList.remove("open"));
    menuModal.addEventListener("click", (e) => { if (e.target === menuModal) menuModal.classList.remove("open"); });
    document.querySelectorAll(".menu-modal a.mlink").forEach(a => a.addEventListener("click", () => menuModal.classList.remove("open")));

    // ====== Filtros ======
    const setActiveFilter = (value) => {
      document.querySelectorAll(".filter").forEach(b => b.classList.toggle("active", b.dataset.filter === value));
      document.querySelectorAll(".product").forEach(p => {
        const cat = p.dataset.category;
        p.style.display = (value === "all" || cat === value) ? "flex" : "none";
      });
    };
    document.querySelectorAll(".filter").forEach(btn => btn.addEventListener("click", () => setActiveFilter(btn.dataset.filter)));

    // =========================
    // 1) Comprar (catálogo) => guarda en Sheets + abre WhatsApp
    // =========================
    document.querySelectorAll(".buy-btn").forEach(btn => {
      btn.addEventListener("click", async (e) => {
        e.stopPropagation(); // para no abrir configurador
        const card = btn.closest(".product");
        const name = card?.dataset.name || "Producto";
        const price = card?.dataset.price || "";

        const purchaseEvent = {
          ts: new Date().toISOString(),
          event: "compra_catalogo_click",
          producto: name,
          precio: price,
          nombre: "",
          tel: "",
          ciudad: "",
          tipo: "Catálogo",
          medidas: "",
          referencia: "",
          detalles: `Click en Comprar | Producto: ${name} | Precio: ${price} | Página: ${location.href}`,
          origen: "web",
          pagina: location.href
        };

        saveLeadLocal(purchaseEvent);
        await postToSheets(purchaseEvent);

        const msg =
`Hola, quiero comprar:
Producto: ${name}
Precio: S/ ${price}

Ciudad de entrega:
¿Me confirmas disponibilidad, tiempo de entrega y costo de envío?`;

        window.open(waLink(msg), "_blank", "noopener,noreferrer");
      });
    });

    // =========================
    // 2) Modal de consulta general (quoteModal)
    // =========================
    const quoteModal = document.getElementById("quoteModal");
    const openQuote = (prefill="") => {
      quoteModal.classList.add("open");
      quoteModal.setAttribute("aria-hidden","false");
      const qp = document.getElementById("q_producto");
      if (qp && prefill) qp.value = prefill;
    };
    const closeQuote = () => {
      quoteModal.classList.remove("open");
      quoteModal.setAttribute("aria-hidden","true");
    };

    document.getElementById("btn-quote-close").addEventListener("click", closeQuote);
    quoteModal.addEventListener("click", (e) => { if (e.target === quoteModal) closeQuote(); });

    document.getElementById("btn-open-quote").addEventListener("click", () => openQuote(""));
    document.getElementById("btn-open-quote-top").addEventListener("click", () => openQuote(""));
    document.getElementById("btn-open-quote-bottom").addEventListener("click", () => openQuote(""));
    document.getElementById("btn-open-quote-card").addEventListener("click", (e) => { e.stopPropagation(); openQuote("Diseño personalizado (Pinterest)"); });

    const buildQuoteText = () => {
      const nombre = document.getElementById("q_nombre").value.trim();
      const tel = document.getElementById("q_tel").value.trim();
      const ciudad = document.getElementById("q_ciudad").value.trim();
      const producto = document.getElementById("q_producto").value.trim();
      const medidas = document.getElementById("q_medidas").value.trim();
      const ref = document.getElementById("q_referencia").value.trim();
      const det = document.getElementById("q_detalles").value.trim();

      return `Hola, soy ${nombre || "___"}.
Teléfono: ${tel || "___"}
Ciudad: ${ciudad || "___"}
Producto/Servicio: ${producto || "___"}
Medidas: ${medidas || "___"}
Referencia: ${ref || "___"}

Detalles:
${det || "___"}

¿Me indicas precio, tiempo de entrega y costo de envío?`;
    };

    document.getElementById("btn-quote-wa").addEventListener("click", () => {
      const text = buildQuoteText();
      window.open(waLink(text), "_blank", "noopener,noreferrer");
    });

    document.getElementById("quoteForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const row = {
        ts: new Date().toISOString(),
        event: "lead_form",
        producto: document.getElementById("q_producto").value.trim(),
        precio: "",
        nombre: document.getElementById("q_nombre").value.trim(),
        tel: document.getElementById("q_tel").value.trim(),
        ciudad: document.getElementById("q_ciudad").value.trim(),
        tipo: "A pedido / consulta",
        medidas: document.getElementById("q_medidas").value.trim(),
        referencia: document.getElementById("q_referencia").value.trim(),
        detalles: document.getElementById("q_detalles").value.trim(),
        origen: "web",
        pagina: location.href
      };

      saveLeadLocal(row);
      await postToSheets(row);

      alert("Guardado en Sheets. Ahora puedes responder con cotización.");
      closeQuote();
    });

    // =========================
    // 3) Configurador de telas (clic en modelo)
    // =========================
    const FABRICS = [
      {
        type: "Chenille premium",
        note: "Suave, elegante, buena resistencia",
        swatches: [
          { name:"Oliva", color:"#5f6b3e", img:"" },
          { name:"Arena", color:"#d8c7ae", img:"" },
          { name:"Grafito", color:"#4a4a4a", img:"" },
          { name:"Hueso", color:"#f1ede6", img:"" },
        ]
      },
      {
        type: "Lino / look natural",
        note: "Textura natural, estética minimal",
        swatches: [
          { name:"Beige", color:"#d9cdbd", img:"" },
          { name:"Taupe", color:"#a89987", img:"" },
          { name:"Blanco roto", color:"#f5f0e8", img:"" },
          { name:"Verde salvia", color:"#8fa38a", img:"" },
        ]
      },
      {
        type: "Antimanchas (fácil limpieza)",
        note: "Ideal para negocios y hogares",
        swatches: [
          { name:"Oliva oscuro", color:"#3f4a2a", img:"" },
          { name:"Café", color:"#6b4e35", img:"" },
          { name:"Gris claro", color:"#cfcfcf", img:"" },
          { name:"Azul petróleo", color:"#1f4c57", img:"" },
        ]
      },
      {
        type: "Terciopelo (velvet)",
        note: "Brillo sutil, look premium",
        swatches: [
          { name:"Esmeralda", color:"#1f6d57", img:"" },
          { name:"Vino", color:"#6c2734", img:"" },
          { name:"Mostaza", color:"#b08a2e", img:"" },
          { name:"Negro", color:"#1b1b1b", img:"" },
        ]
      },
    ];

    const configModal = document.getElementById("configModal");
    const cfgTitle = document.getElementById("cfgTitle");
    const cfgProduct = document.getElementById("cfgProduct");
    const cfgFabricType = document.getElementById("cfgFabricType");
    const cfgSwatches = document.getElementById("cfgSwatches");

    const cfgCustomer = document.getElementById("cfgCustomer");
    const cfgPhone = document.getElementById("cfgPhone");
    const cfgCity = document.getElementById("cfgCity");
    const cfgQty = document.getElementById("cfgQty");
    const cfgFirmness = document.getElementById("cfgFirmness");
    const cfgMeasures = document.getElementById("cfgMeasures");
    const cfgFinish = document.getElementById("cfgFinish");
    const cfgNotes = document.getElementById("cfgNotes");

    let CFG = {
      productName: "",
      price: "",
      category: "",
      fabricType: FABRICS[0]?.type || "",
      swatchName: "",
      swatchColor: "",
      swatchImg: ""
    };

    function openConfigFromProduct(card){
      CFG.productName = card?.dataset.name || "Producto";
      CFG.price = card?.dataset.price || "";
      CFG.category = card?.dataset.category || "";

      cfgTitle.textContent = "Personalizar: " + CFG.productName;
      cfgProduct.textContent = CFG.price ? `${CFG.productName} (S/ ${CFG.price})` : `${CFG.productName} (A pedido)`;

      cfgFabricType.innerHTML = "";
      FABRICS.forEach(f => {
        const opt = document.createElement("option");
        opt.value = f.type;
        opt.textContent = `${f.type} — ${f.note}`;
        cfgFabricType.appendChild(opt);
      });

      cfgFabricType.value = FABRICS[0]?.type || "";
      CFG.fabricType = cfgFabricType.value;
      renderSwatches(CFG.fabricType);

      // defaults
      cfgQty.value = 1;
      cfgFirmness.value = "Intermedia";
      cfgMeasures.value = "";
      cfgFinish.value = "";
      cfgNotes.value = "";

      // no obligamos a poner cliente (pero ayuda)
      // cfgCustomer.value = "";
      // cfgPhone.value = "";
      // cfgCity.value = "";

      configModal.classList.add("open");
      configModal.setAttribute("aria-hidden","false");
    }

    function closeConfig(){
      configModal.classList.remove("open");
      configModal.setAttribute("aria-hidden","true");
    }

    document.getElementById("btn-cfg-close").addEventListener("click", closeConfig);
    configModal.addEventListener("click", (e) => { if (e.target === configModal) closeConfig(); });

    cfgFabricType.addEventListener("change", () => {
      CFG.fabricType = cfgFabricType.value;
      renderSwatches(CFG.fabricType);
    });

    function renderSwatches(fabricType){
      const group = FABRICS.find(f => f.type === fabricType) || FABRICS[0];
      cfgSwatches.innerHTML = "";

      CFG.swatchName = "";
      CFG.swatchColor = "";
      CFG.swatchImg = "";

      (group?.swatches || []).forEach((s, idx) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "swatch";
        btn.style.setProperty("--c", s.color || "#ddd");

        btn.innerHTML = `
          <div class="swatch-top">
            <div class="swatch-dot"></div>
            <div>
              <div class="swatch-name">${s.name}</div>
              <div class="swatch-meta">${fabricType}</div>
            </div>
          </div>
          <div class="swatch-img" style="${s.img ? "" : "display:none"}">
            ${s.img ? `<img src="${s.img}" alt="${s.name}">` : ""}
          </div>
        `;

        btn.addEventListener("click", () => {
          document.querySelectorAll(".swatch").forEach(x => x.classList.remove("active"));
          btn.classList.add("active");
          CFG.swatchName = s.name;
          CFG.swatchColor = s.color || "";
          CFG.swatchImg = s.img || "";
        });

        if (idx === 0) btn.click();
        cfgSwatches.appendChild(btn);
      });
    }

    function buildConfiguredComboText(){
      const customer = cfgCustomer.value.trim();
      const phone = cfgPhone.value.trim();
      const city = cfgCity.value.trim();
      const qty = (cfgQty.value || "1").toString().trim();
      const measures = cfgMeasures.value.trim();
      const firmness = cfgFirmness.value;
      const finish = cfgFinish.value.trim();
      const notes = cfgNotes.value.trim();

      return `Pedido configurado (web) - Acrati
Cliente: ${customer || "—"} | Tel: ${phone || "—"} | Ciudad: ${city || "—"}
Producto: ${CFG.productName}${CFG.price ? ` | Precio catálogo: S/ ${CFG.price}` : " | A pedido"}
Categoría: ${CFG.category || "—"}
Cantidad: ${qty}
Tela: ${CFG.fabricType}
Color: ${CFG.swatchName}${CFG.swatchColor ? ` (${CFG.swatchColor})` : ""}
Medidas: ${measures || "—"}
Firmeza: ${firmness}
Acabado: ${finish || "—"}
Notas: ${notes || "—"}
Página: ${location.href}`;
    }

    // Guardar en Sheets
    document.getElementById("btn-cfg-save").addEventListener("click", async () => {
      const combo = buildConfiguredComboText();

      const payload = {
        ts: new Date().toISOString(),
        event: "pedido_configurado",
        producto: CFG.productName,
        precio: CFG.price || "",
        nombre: cfgCustomer.value.trim(),
        tel: cfgPhone.value.trim(),
        ciudad: cfgCity.value.trim(),
        tipo: "Configuración (tela/color)",
        medidas: cfgMeasures.value.trim(),
        referencia: `Tela: ${CFG.fabricType} | Color: ${CFG.swatchName}`,
        detalles: combo,
        origen: "web",
        pagina: location.href
      };

      saveLeadLocal(payload);
      const res = await postToSheets(payload);

      if (res.skipped) {
        alert("Guardado localmente. Falta configurar SHEETS_WEBAPP_URL para que llegue a Google Sheets.");
      } else {
        alert("Listo: pedido configurado guardado en Google Sheets.");
      }

      closeConfig();
    });

    // WhatsApp con combo
    document.getElementById("btn-cfg-wa").addEventListener("click", () => {
      const combo = buildConfiguredComboText();
      window.open(waLink(combo), "_blank", "noopener,noreferrer");
    });

    // Copiar combo
    document.getElementById("btn-cfg-copy").addEventListener("click", async () => {
      const combo = buildConfiguredComboText();
      try { await navigator.clipboard.writeText(combo); alert("Copiado."); }
      catch(e){ alert("No se pudo copiar. Copia manualmente si hace falta."); }
    });

    // =========================
    // Apertura por clic en el modelo
    // - Clic en tarjeta: abre configurador
    // - Clic en botones (Comprar / Personalizar / Formulario): no interfiere
    // =========================
    document.querySelectorAll(".product").forEach(card => {
      // Botón explícito "Personalizar"
      const openBtn = card.querySelector("[data-open-config]");
      if (openBtn){
        openBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          openConfigFromProduct(card);
        });
      }

      // Clic general en la tarjeta
      card.addEventListener("click", (e) => {
        // Si clickea un botón o un link, no abrimos por el clic general
        if (e.target.closest("button") || e.target.closest("a")) return;
        openConfigFromProduct(card);
      });
    });
  </script>

  <!--
    Nota operativa:
    - “Comprar” crea event=compra_catalogo_click y lo envía a Sheets.
    - “Guardar en Sheets” del configurador crea event=pedido_configurado con el combo completo.

    En tu Apps Script (Sheets), conviene que tu doPost tenga columnas flexibles:
    ts,event,producto,precio,nombre,tel,ciudad,tipo,medidas,referencia,detalles,origen,pagina
  -->
</body>
</html>
